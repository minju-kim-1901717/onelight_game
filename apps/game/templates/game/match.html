<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë§¤ì¹­ í™•ì¸</title>
  <style>
    body{font-family:system-ui;margin:0;padding:24px;background:#0b0b0f;color:#fff}
    .wrap{max-width:560px;margin:0 auto;display:flex;flex-direction:column;gap:14px}
    .card{background:#141420;border-radius:18px;padding:16px}
    .title{font-weight:900;margin-bottom:6px}
    .muted{opacity:.7;font-size:13px;line-height:1.4}
    .big{font-size:22px;font-weight:900;margin-top:8px}
    .nav{display:flex;gap:10px}
    .nav button{flex:1;padding:14px;border-radius:14px;border:0;font-weight:900;background:#2a2a3a;color:#fff;cursor:pointer}
  </style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="title">ë§¤ì¹­ í™•ì¸</div>
    <div id="state" class="muted">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    <div id="partner" class="big"></div>
  </div>

  <div class="nav">
    <button onclick="location.href='/lobby/'">ë¡œë¹„</button>
    <button onclick="location.href='/play/'">í˜¸ê° ë³´ë‚´ê¸°</button>
  </div>
</div>

<script>
async function loadMatch(){
  // api/me/ ì— partnerê°€ ë“¤ì–´ìˆë„ë¡ ë˜ì–´ìˆìŒ
  const res = await fetch("/api/me/");
  if(!res.ok){ location.href="/"; return; }
  const me = await res.json();

  const state = document.getElementById("state");
  const partner = document.getElementById("partner");

  if(me.partner){
    state.innerText = "ë§¤ì¹­ ì™„ë£Œ";
    partner.innerText = `ğŸ‰ ${me.partner.nickname} ë‹˜`;
  } else {
    state.innerText = "ì•„ì§ ë§¤ì¹­ëœ ìƒëŒ€ê°€ ì—†ì–´ìš”.";
    partner.innerText = "";
  }
}
loadMatch();
</script>
</body>
</html>
